<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= property.title %> | Cazzola Propiedades</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/css/styles.css" />
  </head>
  <body class="d-flex flex-column min-vh-100">
    <%- include('partials/header') %>
    <main class="container mb-5">
      <a class="btn btn-link mb-3" href="/imoveis">← Voltar</a>
      <div class="row g-4">
        <div class="col-md-7">
          <div class="ratio ratio-16x9 bg-light mb-3">
            <img
              src="<%= property.images && property.images[0] ? property.images[0] : 'https://via.placeholder.com/1200x650' %>"
              class="w-100 h-100 object-fit-cover rounded"
              alt="Foto principal"
            />
          </div>
          <div class="d-flex gap-2 flex-wrap">
            <% (property.images || []).forEach((img) => { %>
              <img src="<%= img %>" alt="Foto" class="rounded" style="width: 120px; height: 80px; object-fit: cover" />
            <% }) %>
            <% if (!property.images || !property.images.length) { %>
              <span class="text-muted small">Aqui será carregada a galeria real do imóvel.</span>
            <% } %>
          </div>
        </div>
        <div class="col-md-5">
          <p class="text-uppercase text-muted mb-1"><%= property.type %> • <%= property.status %></p>
          <h1 class="h3"><%= property.title %></h1>
          <p class="fw-semibold fs-4 text-primary">US$ <%= property.price %></p>
          <p class="text-muted"><%= formatLocation(property) %></p>
          <p><%= property.description || 'Descrição do imóvel aparecerá aqui.' %></p>
          <ul class="list-unstyled">
            <li>Quartos: <%= property.bedrooms %></li>
            <li>Banheiros: <%= property.bathrooms %></li>
            <li>Metragem: <%= property.area %> m²</li>
            <li>Endereço: <%= property.address %></li>
          </ul>
          <div class="d-flex gap-2 mt-3">
            <a class="btn btn-primary" href="/contato">Quero mais informações</a>
            <a class="btn btn-outline-secondary" href="mailto:contato@cazzola.com?subject=Interesse%20no%20im%C3%B3vel%20<%= property.title %>">Enviar e-mail</a>
          </div>
        </div>
      </div>
    </main>
    <%- include('partials/footer') %>
  </body>
</html>
